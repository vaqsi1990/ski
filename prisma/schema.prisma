// prisma/schema.prisma
generator client {
  provider = "prisma-client"
  output   = "../app/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

enum ProductType {
  SKI
  SNOWBOARD
  ADULT_CLOTH
  CHILD_CLOTH
  ADULT_SKI_SET
  CHILD_SKI_SET
  CHILD_SNOWBOARD_SET
  ADULT_SNOWBOARD_SET
  ACCESSORY
}

enum ProductSize {
  S
  M
  L
}

enum BookingStatus {
  PENDING
  CONFIRMED
  CANCELLED
  COMPLETED
}

model Product {
  id          String       @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  type        ProductType
  price       Float
  size        ProductSize?
  standard    Boolean      @default(false)
  professional Boolean    @default(false)
  description String?     // Description for sets - what items are included
 
  bookings    Booking[]
  createdAt   DateTime     @default(now()) @db.Timestamp(6)
  updatedAt   DateTime     @updatedAt
}

model Booking {
  id            String        @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  productId     String        @db.Uuid
  product       Product       @relation(fields: [productId], references: [id], onDelete: Cascade)
  firstName     String
  lastName      String
  phoneNumber   String
  email         String
  personalId    String
  numberOfPeople String?      // Number of people for the booking
  startDate     DateTime
  endDate       DateTime
  status        BookingStatus @default(PENDING)
  totalPrice    Float
  createdAt     DateTime      @default(now()) @db.Timestamp(6)
  updatedAt     DateTime      @updatedAt
}